<template>
  <header class="flex items-center h-16 px-4 sticky top-0 bg-white z-20 shadow">
    <g-link to="/">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 555.93 81.72" class="w-64">
        <title>logo-2</title>
        <g id="Layer_2" data-name="Layer 2">
          <g id="Layer_1-2" data-name="Layer 1">
            <path
              id="path28289"
              d="M37.05,14v5.38h93.31a10.46,10.46,0,0,1-.32-2.65,10.15,10.15,0,0,1,.34-2.73Z"
              style="fill:#ccc"
            />
            <path
              id="path28291"
              d="M0,19.61H35s-.08-2.37,0-5.6L2.72,9.82c1,1.52,2.26,1.61,3.82,1.84,7.25,1.06,14.54,1.82,21.57,3.81q-4.29,0-8.56.06S3.38,14.92,0,19.61Z"
              style="fill:#c9d6e2"
            />
            <path
              id="path28293"
              d="M168.42,0V1.48c0,4.47-2.8,4.86-2.8,4.86C153.86,10.63,146.4,11,134.13,12c-1.3.56-1.93,2.64-1.93,4.75s.63,4.19,1.93,4.75c12.27,1,19.73,1.39,31.5,5.68,0,0,2.8.39,2.8,4.86v1.48h1.37V0Z"
            />
            <path
              d="M236.08,29.69c-.58,1.5-15.86,5.88-24.7,4.45h0a12.71,12.71,0,0,1-1.47-.31c-8.48-2.27-6.77,7.47-6.77,7.47s4.62,19.61,2.33,30.5a9.75,9.75,0,0,1-1.81,4c-3.34,4.54-10.27,7-15.35,4.24l1-41.53a6.25,6.25,0,0,0-2.54-5c-5,6.62-10.16,13.42-10.16,13.42s-11.17,14.88-14.45,18.38-5.91-3.07-5.91-3.07-.21-.11,2.19-1.64c8-7.83,14.75-19,20.87-29.81-3.86-1.42-7.51-3-7.51-3l0-21c17.74,0,34.68.27,51.64,0,.51,0,1,0,1.58,0,3.75,0,7.81.56,9.05,2.71C236.54,13.86,236.7,28.12,236.08,29.69Z"
              style="fill:#fafafa;stroke:#000;stroke-linejoin:round"
            />
            <path
              d="M211.35,34.14a12.71,12.71,0,0,1-1.47-.31c-8.48-2.27-6.77,7.47-6.77,7.47s4.62,19.61,2.33,30.5a9.75,9.75,0,0,1-1.81,4,10.46,10.46,0,0,1-1.1-3.71c4.17-12.78-6-36.27-6.23-38s.75-2.21,2.58-3S210.78,33.93,211.35,34.14Z"
            />
            <rect x="176.99" y="14.96" width="9.2" height="4.73" rx="1.99" />
            <path
              id="path40767"
              d="M276.16,80.27l-7.52-8.48c4.72-1,6.28-4.4,6.28-7.81,0-4.29-3.09-8.2-8.94-8.23-3.94,0-7.88,0-11.82,0V80.59h4.69V72.28h4.5l7.24,8.31h5.57ZM266,60.11a4,4,0,1,1,0,8h-7.13v-8Z"
              style="fill:#ccc"
            />
            <path
              id="path40769"
              d="M319.19,76H305.25v-5.6H318.7V66H305.25V60.29h13.94V55.75H300.6V80.59h18.59Z"
              style="fill:#ccc"
            />
            <path id="path40771" d="M345.34,55.75V80.59H362.8V76.26H350V55.75Z" style="fill:#ccc" />
            <path
              id="path40773"
              d="M399.61,55.25c-8.58,0-12.77,6.56-12.77,13.09s4,12.81,12.77,12.81,12.67-6.42,12.74-12.84S408.16,55.25,399.61,55.25Zm0,4.26c5.86,0,8.2,4.68,8.13,8.87s-2.27,8.48-8.13,8.48-8.05-4.36-8.16-8.45,2.31-8.9,8.16-8.9Z"
              style="fill:#ccc"
            />
            <path
              id="path40775"
              d="M458.09,80.59h5.11L452.06,55.75H447L435.81,80.59h5.07L443,75.9h13Zm-4-9h-9.23L449.5,61Z"
              style="fill:#ccc"
            />
            <path
              id="path40777"
              d="M498,55.75h-9.76V80.59H498c8.69,0,12.52-6.36,12.42-12.64S506.53,55.75,498,55.75Zm-5.11,4.43H498c5.39,0,7.66,3.87,7.77,7.74.11,4-2.13,8.16-7.77,8.16h-5.11Z"
              style="fill:#ccc"
            />
            <path
              id="path40779"
              d="M555.15,59.83c-1.88-3.83-5.89-4.93-9.76-4.93-4.58,0-9.62,2.12-9.62,7.23,0,5.58,4.69,6.92,9.76,7.53,3.3.35,5.75,1.31,5.75,3.65,0,2.7-2.77,3.73-5.71,3.73s-5.89-1.21-7-3.94l-3.91,2c1.85,4.54,5.75,6.1,10.83,6.1,5.53,0,10.43-2.37,10.43-7.91,0-5.92-4.83-7.27-10-7.91-3-.36-5.53-1-5.53-3.12,0-1.85,1.66-3.3,5.14-3.3,2.7,0,5,1.34,5.89,2.76Z"
              style="fill:#ccc"
            />
            <path
              id="path40782"
              d="M261.17,22.14H272c2.91,0,7.06,1.77,7.06,5.17,0,3.55-4.15,4.52-7.06,4.52H261.17Zm0-14.92H272c4.53,0,5.93,2.91,5.93,4.63,0,2.15-1.46,4-5.93,4H261.17ZM272,.75H254.16v37.7H272c7.81,0,14.12-2.69,14.12-11.09,0-2.37-1.62-7.06-6-8.4a7.66,7.66,0,0,0,4.9-7.27C285,4.09,279.48.75,272,.75Z"
            />
            <path
              id="path40784"
              d="M323.67,38.45h7.75L314.51.75h-7.76l-16.91,37.7h7.7l3.24-7.1h19.71Zm-6-13.73h-14l7-16Z"
            />
            <path
              id="path40786"
              d="M370.5,38,359.09,25.1c7.16-1.46,9.53-6.68,9.53-11.85,0-6.52-4.69-12.44-13.57-12.5-6,0-12-.05-17.94-.05V38.45h7.11V25.85h6.84l11,12.6h8.45ZM355.05,7.38c4.47,0,6.46,3,6.46,6s-1.94,6-6.46,6H344.22V7.38Z"
            />
            <path id="path40788" d="M383.09,38.45V.75H376v37.7Z" />
            <path
              id="path40790"
              d="M422.23,38.45H430L413.07.75h-7.75l-16.91,37.7h7.7l3.23-7.1h19.71Zm-6-13.73h-14l7-16Z"
            />
            <path id="path40792" d="M439.27,38.45h7.11V7.22h12V.75h-31V7.22h12Z" />
            <path
              id="path40794"
              d="M498.63,38,487.21,25.1c7.16-1.46,9.53-6.68,9.53-11.85,0-6.52-4.68-12.44-13.57-12.5-6,0-12-.05-17.93-.05V38.45h7.11V25.85h6.84l11,12.6h8.46ZM483.17,7.38c4.47,0,6.46,3,6.46,6s-1.94,6-6.46,6H472.35V7.38Z"
            />
            <path id="path40796" d="M511.21,38.45V.75h-7v37.7Z" />
            <path
              id="path40798"
              d="M548.79,28.81a13.87,13.87,0,0,1-9.48,3.83c-9.32,0-12.92-6.52-13-12.77s3.88-13.08,13-13.08a12.94,12.94,0,0,1,9.1,3.55l4.74-4.58A19.44,19.44,0,0,0,539.31,0c-13.62,0-20,10-20,19.87s6,19.45,20,19.45a19.9,19.9,0,0,0,14.33-5.6Z"
            />
          </g>
        </g>
      </svg>
    </g-link>
    <div class="hidden mx-auto sm:flex">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        class="w-4 h-4 fill-current text-primary-dark"
      >
        <path fill="none" d="M0 0h24v24H0V0z" />
        <path
          d="M20 8h-3V4H1v13h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm13.5-8.5l1.96 2.5H17V9.5h2.5zM18 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"
        />
      </svg>
      <span
        class="text-primary-dark text-sm font-medium tracking-wider ml-2"
      >Free shipping for orders over $1000</span>
    </div>
    <!-- <g-link to="/products" class="ml-10 hidden sm:inline">
      <span
        class="uppercase text-gray-500 hover:text-primary-dark tracking-wider text-xs font-semibold block w-full h-full"
      >Product catalog</span>
    </g-link>-->
    <button class="snipcart-checkout ml-auto focus:outline-none" :class="[itemCount ? 'mr-2' : '']">
      <span
        class="w-12 h-12 block flex justify-center items-center relative rounded-full hover:bg-surface"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          class="w-6 h-6 text-gray-500 fill-current"
          aria-label="Go to cart"
        >
          <path fill="none" d="M0 0h24v24H0V0z" />
          <path
            d="M17 18c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm0-3l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1v2h2l3.6 7.59L3.62 17H19v-2H7z"
          />
        </svg>
        <span
          v-if="itemCount"
          class="absolute h-6 block rounded-full bg-secondary-dark text-white text-sm font-medium min-w-6 px-1 flex items-center justify-center -right-2 -top-1 border-2 border-white z-20"
        >{{ itemCount }}</span>
      </span>
    </button>
  </header>
</template>

<script>
export default {
  data() {
    return {
      itemCount: 0,
    };
  },
  mounted() {
    Snipcart.store.subscribe(() => {
      this.itemCount = Snipcart.store
        .getState()
        .cart.items.map((item) => item.quantity)
        .reduce((acc, cur) => acc + cur, 0);
    });
  },
};
</script>
